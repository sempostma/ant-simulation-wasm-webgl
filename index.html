<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <style>
        body {
            margin: 0px;
            overflow: hidden;
            font-family: sans-serif;
            background-color: black;
        }
        #canvas {
            filter: blur(0.3px);
            width: 100vw;
            height: 100vh;
        }
        .bottom-bar {
          position: absolute;
          left: 0;
          right: 0;
          bottom: 0;
          display: flex;
          justify-content: space-between;
          color: #ddd!important;
          flex-wrap: nowrap;
        }
        .bottom-bar a {
          color: #ddd;
        }
        .fullscreen {
          cursor: pointer;
          text-decoration: underline;
        }
        .actions {
          padding: 3px;
          padding-right: 100px;
          background-image: linear-gradient(to right, #111111ff, #111111ff, #11111100);
        }
        .credits {
          padding: 3px;
          padding-left: 100px;
          background-image: linear-gradient(to right, #11111100, #11111100, #111111ff);
        }
    </style>
</head>

<body>
    <!-- Create the canvas that the C++ code will draw into -->
    <canvas id="canvas" oncontextmenu="event.preventDefault()"></canvas>

    <div class="bottom-bar">
      <div class="actions">
        <div role="button" id="fullscreen" title="Enter fullscreen mode" class="fullscreen">Fullscreen</div>
      </div>
      <div class="credits">
        <a href="https://github.com/sempostma/ant-simulation-wasm-webgl" target="_blank">Github</a>
      </div>
    </div>

    <!-- Allow the C++ to access the canvas element --> 
    <script type='text/javascript'>
        var canv = document.getElementById('canvas');
        var originalCanvasGetContext = canvas.getContext;
        var Module = {
            canvas: canv
        };

        function goFullscreen() {
          return canv.requestFullscreen().then(function() {
            _restart_ant_simulation();
          })
        }

        goFullscreen().catch(console.error)

        document.getElementById('fullscreen').addEventListener('click', function() {
          goFullscreen().catch(function(error) { window.alert("Unable to go fullscreen: " + error.message) })
        })
    </script>
    
    <!-- Call the javascript glue code (index.js) as generated by Emscripten -->
    <script src="index.js"></script>
    
    <!-- Allow the javascript to call C++ functions -->
    <script type='text/javascript'>
        // canv.addEventListener('click',    _toggle_background_color, false);
        // canv.addEventListener('touchend', _toggle_background_color, false);
    </script>

</body>

</html>
